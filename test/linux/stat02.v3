//@execute = 46
component stat02 {
	def stat: Array<int> = Array.new(32);
	def main() -> int {
		if (doStat(Linux.stat) != 0) return -1;
		return stat(5);
	}
	def doStat(f: (Pointer, Pointer) -> int) -> int {
		var path = Pointer.atContents("test.txt\x00");
		return f(path, Pointer.atContents(stat));
	}
}
