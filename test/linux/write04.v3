//@execute = true
component write04 {
	def O_WRONLY: int = 0x0001;
	def O_TRUNC: int  = 0x0400;
	def O_CREAT: int  = 0x0200;
	def main() -> bool {
		var str = "The quick brown fox jumped over the lazy dog.\n";
		var buf = Pointer.atContents(str);
		var path = Pointer.atContents("writable.txt\x00");
		var fd = Linux.open(path, O_WRONLY | O_TRUNC, 0);
		if (fd <= 2) return false;
		var r = Linux.write(fd, buf, str.length);
		return r == str.length;
	}
}
